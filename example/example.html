<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="./jquery-ui.theme.min.css">
  <title>Example</title>
</head>
<body>
  <script src="./scripts/jquery.js"></script>
  <script src="./scripts/jquery-ui.js"></script>
  <script src="../cloneDialogOpener.js"></script>
  <script>
    var cloneDialogOpener;

    $(function(){
      cloneDialogOpener=$.tonyhallett.cloneDialogOpener(
        {
          cloneSelector:"#toClone",
          cloneCss:function(el,i){
           return i===1; 
          },
          dialogOptions:{hide:500,show:500,resizable:false,autoOpen:true},
          alwaysClone:true,
          draggableOptions:{}
        }); 
      draggable=cloneDialogOpener.draggable;
      dialog=cloneDialogOpener.dialog;
    });
    function destroy(){
      cloneDialogOpener.destroy();
    }
    function setDialogOptions(){
      cloneDialogOpener.option({dialogOptions:{hide:1500,show:1500,title:"Hello",noCloseButton:true,resizable:false,autoOpen:false}});
    }
    function setDraggableOptions(){
      cloneDialogOpener.option({draggableOptions:{axis:"y"}});
    }
    function toggleDialogOpen(){
      if(cloneDialogOpener.dialogIsOpen()){
        cloneDialogOpener.dialogClose();
      }else{
        cloneDialogOpener.dialogOpen();
      }
    }
    function toggleDraggable(){
      if(cloneDialogOpener.draggableIsDisabled()){
        cloneDialogOpener.draggableEnable();
      }else{
        cloneDialogOpener.draggableDisable();
      }
    }
    function toggleAlwaysClone(){
      var alwaysClone=cloneDialogOpener.option("alwaysClone");
      console.log("always clone " + alwaysClone);
      cloneDialogOpener.option("alwaysClone",!cloneDialogOpener.option("alwaysClone"))
    }
  </script>
  <style>
    #clone2{color:green}
    .clone3{color:blue}
    a:link {
      text-decoration:none;
      color: #cc6611;
    }
    a:visited {
      text-decoration:none;
      color: #888888;
    }
    a:hover {
      text-decoration:underline;
      color: #ff9900;
    }

  </style>
  <button onclick='toggleDraggable()'>Toggle draggable</button>
  <button onclick='toggleDialogOpen()'>Toggle dialog</button>
  <button onclick='destroy()'>Destroy</button>
  <button onclick='setDialogOptions()'>Set dialog options</button>
  <button onclick='setDraggableOptions()'>Set draggable options</button>
  <button onclick='toggleAlwaysClone()'>Toggle always clone</button>
  
  <div id="toClone">
    <div style='color:red'>Cloned 1</div>
    <div id='clone2'>Cloned 2</div>
    <div class='clone3'>Cloned 3</div>
    <a href="">A link</a>
  </div>

</body>
</html>